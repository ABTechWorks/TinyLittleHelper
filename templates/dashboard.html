<h2><p style="text-align: center;">Device Monitoring</p></h2>

<h3><p style="text-align: center;">Add a new device</p></h3>

<p>Or download the TinyLittleHelper client for automatic device registration:</p>
<a href="/download_helper">Download TinyLittleHelper</a>

<p>Devices can be added manually using the form above or automatically using the TinyLittleHelper client.</p>
<small>Devices added via the TinyLittleHelper client will automatically appear here with their real device name and status.</small>

<h3>Advanced Device Registration</h3>
<form method="POST" action="/add_device">
  <input type="text" name="device_name" placeholder="Device Name" required>
  <input type="text" name="device_ip" placeholder="IP Address">
  <input type="text" name="device_mac" placeholder="MAC Address (optional)">
  <button type="submit">Add Device</button>
</form>
<p><small><p style="text-align: center;">Device name plus at least IP or MAC is required.</small></p>

<p><small><p style="text-align: center;">Enter either MAC, IP, or both. If only IP is entered, the system will automatically detect the MAC when the device comes online.</small></p>

<div style="text-align: center;">
<table style="margin: 0 auto;">
  <tr>
    <th>Account</th>
    <th>Device</th>
    <th>Status</th>
    <th>Last Seen</th>
  </tr>
  {% for device, info in devices.items() %}
  <tr>
    <td>{{ username }}</td>
    <td>{{ device }}</td>
    <td>{{ info.get('status', 'offline') }}</td>
    <td>{{ info.get('last_seen', '-') }}</td>
  </tr>
  {% endfor %}
</table>
</div>
